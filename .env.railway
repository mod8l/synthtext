# Node Environment
NODE_ENV=production

# n8n Server Configuration
N8N_PORT=${PORT}
N8N_PROTOCOL=https
N8N_HOST=0.0.0.0
WEBHOOK_URL=https://${RAILWAY_PUBLIC_DOMAIN}

# Database Configuration (PostgreSQL)
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=${PGHOST}
DB_POSTGRESDB_PORT=${PGPORT}
DB_POSTGRESDB_DATABASE=${PGDATABASE}
DB_POSTGRESDB_USER=${PGUSER}
DB_POSTGRESDB_PASSWORD=${PGPASSWORD}
DB_POSTGRESDB_SCHEMA=public

# Executions Configuration
EXECUTIONS_PROCESS=main
EXECUTIONS_MODE=regular
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_TIMEOUT_MAX=7200

# Metrics and Monitoring (Enable /healthz endpoint)
N8N_METRICS=true
N8N_METRICS_INCLUDE_API_ENDPOINTS=true
N8N_METRICS_INCLUDE_DEFAULT_METRICS=true
N8N_METRICS_INCLUDE_WORKFLOW_ID_LABEL=true
N8N_METRICS_INCLUDE_NODE_TYPE_LABEL=true
N8N_DIAGNOSTICS_ENABLED=true

# User Management (Enabled - set to false)
N8N_USER_MANAGEMENT_DISABLED=false

# Security Configuration
N8N_INSECURE_FRONTEND_ALLOWLIST=false

# Timezone
GENERIC_TIMEZONE=UTC

# Logging
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# Encryption Key (Railway will need to set this as a secret)
# N8N_ENCRYPTION_KEY=${N8N_ENCRYPTION_KEY}

# Optional: Public API Configuration
N8N_PUBLIC_API_DISABLED=false

# Optional: Editor Configuration
N8N_EDITOR_BASE_URL=https://${RAILWAY_PUBLIC_DOMAIN}

# Optional: Performance Configuration
N8N_PAYLOAD_SIZE_MAX=16

# Optional: Community Nodes
N8N_COMMUNITY_NODES_ENABLED=true
