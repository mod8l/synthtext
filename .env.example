# AutoMarket OS Environment Configuration

# ===== n8n Server Configuration =====
# Node Environment
NODE_ENV=production

# n8n Server Settings
N8N_PORT=${PORT}
N8N_PROTOCOL=https
N8N_HOST=0.0.0.0
WEBHOOK_URL=https://${RAILWAY_PUBLIC_DOMAIN}
N8N_EDITOR_BASE_URL=https://${RAILWAY_PUBLIC_DOMAIN}

# n8n API Access
N8N_HOST=http://localhost:5678
N8N_API_KEY=your_n8n_api_key_here

# ===== Database Configuration (PostgreSQL) =====
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=${PGHOST}
DB_POSTGRESDB_PORT=${PGPORT}
DB_POSTGRESDB_DATABASE=${PGDATABASE}
DB_POSTGRESDB_USER=${PGUSER}
DB_POSTGRESDB_PASSWORD=${PGPASSWORD}
DB_POSTGRESDB_SCHEMA=public

# ===== n8n Executions Configuration =====
EXECUTIONS_PROCESS=main
EXECUTIONS_MODE=regular
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_TIMEOUT_MAX=7200

# ===== n8n Metrics and Monitoring =====
# REQUIRED: These enable the /healthz endpoint for Railway
N8N_METRICS=true
N8N_METRICS_INCLUDE_API_ENDPOINTS=true
N8N_METRICS_INCLUDE_DEFAULT_METRICS=true
N8N_METRICS_INCLUDE_WORKFLOW_ID_LABEL=true
N8N_METRICS_INCLUDE_NODE_TYPE_LABEL=true
N8N_DIAGNOSTICS_ENABLED=true

# ===== n8n Security Configuration =====
N8N_INSECURE_FRONTEND_ALLOWLIST=false
N8N_USER_MANAGEMENT_DISABLED=false

# ===== n8n Logging =====
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console

# ===== n8n Features =====
N8N_PUBLIC_API_DISABLED=false
N8N_COMMUNITY_NODES_ENABLED=true
N8N_PAYLOAD_SIZE_MAX=16

# ===== Timezone =====
GENERIC_TIMEZONE=UTC

# ===== Firecrawl API =====
FIRECRAWL_API_KEY=your_firecrawl_api_key
FIRECRAWL_API_URL=https://api.firecrawl.dev/v0

# ===== OpenAI / Claude API =====
OPENAI_API_KEY=your_openai_api_key
CLAUDE_API_KEY=your_claude_api_key
AI_MODEL=claude-opus-4-5-20251101  # or gpt-4, gpt-4-turbo, etc.

# ===== Mixpost Configuration =====
MIXPOST_API_KEY=your_mixpost_api_key
MIXPOST_API_URL=https://api.mixpost.app/v1
MIXPOST_WORKSPACE_ID=your_workspace_id

# ===== Social Media Credentials =====
# LinkedIn
LINKEDIN_ACCESS_TOKEN=your_linkedin_token
LINKEDIN_PAGE_ID=your_page_id

# Twitter/X
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET=your_twitter_api_secret
TWITTER_ACCESS_TOKEN=your_twitter_access_token
TWITTER_ACCESS_SECRET=your_twitter_access_secret
TWITTER_BEARER_TOKEN=your_bearer_token

# Instagram
INSTAGRAM_ACCESS_TOKEN=your_instagram_token
INSTAGRAM_BUSINESS_ACCOUNT_ID=your_account_id

# Facebook
FACEBOOK_ACCESS_TOKEN=your_facebook_token
FACEBOOK_PAGE_ID=your_page_id

# ===== Twenty CRM Configuration =====
TWENTY_CRM_URL=https://your-twenty-instance.com
TWENTY_CRM_TOKEN=your_twenty_api_token
TWENTY_CMO_USER_ID=user_id_of_cmo  # For assigning review tasks
TWENTY_WORKSPACE_ID=your_workspace_id

# ===== Slack Integration =====
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_CHANNEL_ID=C1234567890
SLACK_CHANNEL_NAME=#marketing-automation

# ===== Image Generation (Optional) =====
STABLE_DIFFUSION_API_URL=http://localhost:7860  # Local or API endpoint
STABLE_DIFFUSION_API_KEY=your_api_key_if_using_service

# ===== Campaign Configuration =====
CAMPAIGN_DEFAULT_TIMEZONE=UTC
CAMPAIGN_AUTO_PUBLISH=false  # Set to true for full automation (not recommended for launch)
CAMPAIGN_REVIEW_REQUIRED=true  # Require manual review before publishing
CAMPAIGN_DATA_COMPLETENESS_THRESHOLD=80  # Minimum % for autonomous mode

# ===== UTM Parameter Configuration =====
UTM_SOURCE=automarket
UTM_CAMPAIGN_PREFIX=automarket  # e.g., automarket-2025-01-15

# ===== Logging & Monitoring =====
LOG_LEVEL=info  # debug, info, warn, error
SENTRY_DSN=your_sentry_dsn_for_error_tracking
DATADOG_API_KEY=your_datadog_key_if_using_monitoring

# ===== Security =====
WEBHOOK_TOKEN=your_secure_webhook_token
API_RATE_LIMIT=100  # Requests per minute
SESSION_SECRET=your_session_secret_key
